
; ----------------------------------------------------------------------------
sub_5461:  
	prolog
; --	if (L4651 == 0) return;
	lda     L4651                           ; 5464 AD 51 46                 .QF
	lbne	L5471
	ldi	$A0, $00
	rts                                     ; 5470 60                       `

; ----------------------------------------------------------------------------
L5471:	add8i	off_AE, L531D, $01
	ifm8eqm	LB1C8, off_AE, L54E3
	jsr     sub_537F
	mv	L531D, LB1C8
	and8i	off_AE, LB1C6, $80
	lda     off_AE
	lbeq	L54B8
	ldi	$A3, >LB1C9
	and8i	off_AE, LB1C6, $7F
	sub8i	$A4, off_AE, $04
	ldy     #<LB1C9
	ldxai	LB224
	jsr     sub_5197
	jmp     L54D6                           ; 54B5 4C D6 54                 L.T

; ----------------------------------------------------------------------------
L54B8:	sub8i	L4649, LB1C6, $04
	blkmv_iii LB224, LB1C9, $005C
L54D6:	yldi	L4651, $00
	ldi	$A0, $01
	rts                                     ; 54DF 60                       `

; ----------------------------------------------------------------------------
	jmp     L54F7                           ; 54E0 4C F7 54                 L.T

; ----------------------------------------------------------------------------
L54E3:	ifm8eqm	LB1C8, L531D, L54F4
	jsr     sub_537F
	jmp     L54F7                           ; 54F1 4C F7 54                 L.T

; ----------------------------------------------------------------------------
L54F4:  jsr     sub_5373
L54F7:  ldi	$A0, $00
	rts                                     ; 54FB 60                       `

